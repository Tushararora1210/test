<!DOCTYPE html>
<html>
<head>
	<title>Ping Pong Game</title>
</head>
<body>
	<canvas id="canvas" width="800" height="400"></canvas>
	<script type="text/javascript" src="js/app.js"></script>
	<script type="text/javascript">
		//Sample functions, remove these functions and design ping-pong game with onInit and onUpdate.

		app.onInit = function(){
			
			
			this.nodes.push({
				id : 'gameScreen',
				x  : 0,
				y  : 0,
				width  : this.width,
				height : this.height,
				color  : 'black',
				direction : 0
			});
			
			this.nodes.push({
				id : 'player1',
				x  : this.width/2-this.width/20,
				y  : 0,
				width  : this.width/10,
				height : this.height/20,
				color  : 'white',
				direction : 0
			});

			this.nodes.push({
				id : 'player2',
				x  : this.width/2-this.width/20,
				y  : this.height-this.height/6,
				width  : this.width/10,
				height : this.height/20,
				color  : 'white',
				direction : 0
			});

			this.nodes.push({
				id : 'ball',
				x  : this.width/2,
				y  : (this.height-this.height/6)/2,
				width  : this.width/100,
				height : this.height/30,
				color  : 'red'
			});

			let newId=0;
			let cnt=0;
			while(newId < this.width)
			{
				this.nodes.push({
				id : 'divide'+String(cnt++),
				x  : newId,
				y  : (this.height-this.height/6)/2,
				width  : this.width/30,
				height : this.height/120,
				color  : 'white'
			});

			newId=newId+2*this.width/30;

			}
		};

		app.onUpdate = function(time){

			
			//resizing canvas to window's full width and height
			this.width = window.innerWidth;
			this.height = window.innerHeight;

			//adjusting the properties of gamescreen according to the window size

			this.getNode('gameScreen').width = this.width;
			this.getNode('gameScreen').height = this.height;

			//adjusting the properties of divider according to the window size

			let newId=0;
			let cnt=0
			while(newId < this.width)
			{
			
			this.getNode('divide'+String(cnt)).height = this.height/120;
			this.getNode('divide'+String(cnt)).width = this.width/30;
			this.getNode('divide'+String(cnt)).x = newId;
			this.getNode('divide'+String(cnt)).y = (this.height-this.height/6)/2;
			
			cnt++;

			newId=newId+2*this.width/30;
			
			}

			

			//adjusting the properties of player1 according to the window size
			this.getNode('player1').x = ((this.getNode('player1').x * this.width)/(this.getNode('player1').width*10));
			this.getNode('player1').width=this.width/10;
			this.getNode('player1').height=this.height/20;

			//adjusting the properties of player2 according to the window size
			this.getNode('player2').x = ((this.getNode('player1').x * this.width)/(this.getNode('player1').width*10));
			this.getNode('player2').y = this.height-this.height/6;
			this.getNode('player2').width = this.width/10;
			this.getNode('player2').height = this.height/20;

			//adjusting height and width of ball
			this.getNode('ball').x = ((this.getNode('ball').x * this.width)/(this.getNode('ball').width*100));
			this.getNode('ball').y = ((this.getNode('ball').y * this.height)/(this.getNode('ball').height*30))
			this.getNode('ball').width = this.width/100;
			this.getNode('ball').height = this.height/30;

			
		};
	</script>
</body>
</html>